<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    {% load static %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'styles.css' %}">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Audiowide">

</head>
<body class="d-flex flex-column align-items-center mt-3 bg-warning"> 
    <div class="p-3">
        <h1>QUEST TRACKER</h1>
    </div>
    <div class="d-flex flex-row align-items-center ">
        <div id="registration-form" class="d-none">

        <div class="d-flex justify-content-center bg-light m-1 p-3 border rounded-3 shadow-lg">
            <form class="d-flex flex-column justify-content-between mb-2 p-3"action="/register" method="POST">
                {% csrf_token %}
                <div>
                    <h2>Registration</h2>
                </div>
                <div class="d-flex flex-column">
                    <label for="">Role</label>
                    <select name="role" class="form-control">
                        <option value="manager">Manager</option>
                        <option value="employee">Employee</option>
                    </select>
                </div>
                <div class="d-flex flex-column" id="managerSelection" style="display: none;">
                    <label for="">Manager</label>
                    <select name="manager" class="form-control">
                        {% for manager in managers %}
                            <option value="{{ manager.id }}">{{ manager.first_name }} {{ manager.last_name }}</option>
                        {% endfor %}
                    </select>
                </div>
                
                <div class="d-flex flex-column">
                    <label for="">First Name</label>
                    <input type="text" aria-label="Last name" class="form-control" name="first_name">
                </div>
                <div class="d-flex flex-column">
                    <label for="">Last Name</label>
                    <input type="text" aria-label="Last name" class="form-control" name="last_name">
                </div>
                <div class="d-flex flex-column">
                    <label for="">Email</label>
                    <input type="text" aria-label="Last name" class="form-control" name="email">
                </div>
                <div class="d-flex flex-column">
                    <label for="">Phone No.</label>
                    <input  type="number" aria-label="Last name" class="form-control" name="cell_#">
                </div>
                <div class="d-flex flex-column">
                    <label for="">Password</label>
                    <input type="password" aria-label="Last name" class="form-control" name="password">
                </div>
                <div class="d-flex flex-column">
                    <label for="">Confirm Password</label>
                    <input type="password" aria-label="Last name" class="form-control" name="cf_password">
                </div>
                
                <div class="d-flex flex-column">
                    <label for="">Secret Password</label>
                    <input type="password" aria-label="Last name" class="form-control" name="secret_password">
                </div>
                

                <div class="d-flex flex-column">
                    <button class="btn btn-outline-secondary shadow-lg mt-3" type="submit">Register</button>
                </div>
            </form>
        </div>
        </div>
        <div id="login-form">
        <div>
            <form style="height: 450px; width: 275px;" class="d-flex flex-column justify-content-center bg-light m-3 p-3 border rounded-3 shadow-lg" action="/login" method="POST">
                {% csrf_token %}
                <div class="d-flex flex-row justify-content-center">
                    <h2>Login</h2>
                </div>
                <div class="d-flex flex-column">
                    <label for="">Role</label>
                    <select name="log_role" class="form-control">
                        <option value="manager">Manager</option>
                        <option value="employee">Staff</option>
                        <option value="head">Head</option>
                        <option value="executive">CEO</option>

                    </select>
                </div>
                <div class="d-flex flex-column">
                    <label for="">Email</label>
                    <input type="text" aria-label="Last name" class="form-control" name="log_email">
                </div>
                <div class="d-flex flex-column">
                    <label for="">Password</label>
                    <input type="password" aria-label="Last name" class="form-control" name="log_password">
                </div>
 
                <div class="d-flex flex-column">
                    <button class="btn btn-outline-secondary shadow-lg mt-3" type="submit">Login</button>
                </div>
            </form>
        </div>
            <button id="toggle-form-btn" style="color: black" class="btn btn-secondary m-3">Register</button>
        </div>
        <ul id="error-messages" class="align-items-center">
            {% if messages %}    
                {% for message in messages %}    
                    <li>{{ message }}</li>    
                {% endfor %}
            {% endif %}
        </ul>
    </div>
    </div>
    <script>

        document.getElementById("toggle-form-btn").addEventListener("click", function() {
            var registrationForm = document.getElementById("registration-form");
            var loginForm = document.getElementById("login-form");
            var toggleButton = document.getElementById("toggle-form-btn");
    
            if (registrationForm.classList.contains("d-none")) {
                // Show Registration Form, Hide Login Form
                registrationForm.classList.remove("d-none");
                loginForm.classList.add("d-none");
                toggleButton.textContent = "Login";
            } else {
                // Show Login Form, Hide Registration Form
                registrationForm.classList.add("d-none");
                loginForm.classList.remove("d-none");
                toggleButton.textContent = "Register";
            }
        });
        
    </script>
    
</body>
</html>